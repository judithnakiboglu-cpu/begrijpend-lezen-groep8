<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Begrijpend Lezen â€“ Multi Les</title>
<style>
body{font-family:system-ui,Arial;margin:0;background:#f6f7fb}
.wrap{max-width:1000px;margin:auto;padding:16px}
.card{background:white;border-radius:16px;padding:16px;margin-bottom:12px;box-shadow:0 6px 20px rgba(0,0,0,.08)}
button{padding:10px 12px;border:0;border-radius:10px;cursor:pointer}
.primary{background:#2e5bff;color:white}
.ghost{background:#eef2ff}
.q{border:1px solid #eee;padding:10px;border-radius:10px;margin:10px 0}
.opt{display:block;margin:6px 0}
.good{background:#e9fbef;padding:8px;border-radius:10px}
.bad{background:#fff0f0;padding:8px;border-radius:10px}
</style>
</head>
<body>
<div class="wrap">
<div class="card">
<h2>Les kiezen</h2>
<select id="lessonSelect"></select>
<button class="ghost" id="newLesson">Nieuwe les</button>
</div>

<div class="card" id="kid">
<h2 id="title"></h2>
<div id="text" style="white-space:pre-wrap"></div>
<div id="questions"></div>
</div>

<div class="card">
<h3>Ouder modus</h3>
<input id="titleInput" placeholder="Titel"><br><br>
<textarea id="textInput" placeholder="Tekst" style="width:100%;height:120px"></textarea><br><br>
<button class="primary" id="saveLesson">Opslaan les</button>
<hr>
<input id="q" placeholder="Vraag"><br><br>
<input id="a0" placeholder="A"><br>
<input id="a1" placeholder="B"><br>
<input id="a2" placeholder="C"><br>
<input id="a3" placeholder="D"><br>
<select id="correct"><option value="0">A</option><option value="1">B</option><option value="2">C</option><option value="3">D</option></select>
<button class="primary" id="addQ">Voeg vraag toe</button>
</div>
</div>
<script>
const KEY='bl_multi_v1';
let db=JSON.parse(localStorage.getItem(KEY)||'{"lessons":[]}');
let current=0;

function save(){localStorage.setItem(KEY,JSON.stringify(db));renderLessons();renderKid();}

function renderLessons(){
 const sel=document.getElementById('lessonSelect');
 sel.innerHTML='';
 db.lessons.forEach((l,i)=>{const o=document.createElement('option');o.value=i;o.text=l.title||('Les '+(i+1));sel.appendChild(o)});
 sel.value=current;
}

document.getElementById('lessonSelect').onchange=e=>{current=+e.target.value;renderKid();}

document.getElementById('newLesson').onclick=()=>{db.lessons.push({title:'Nieuwe les',text:'',questions:[]});current=db.lessons.length-1;save();}

document.getElementById('saveLesson').onclick=()=>{const l=db.lessons[current];l.title=titleInput.value;l.text=textInput.value;save();}

document.getElementById('addQ').onclick=()=>{
 const l=db.lessons[current];
 l.questions.push({text:q.value,options:[a0.value,a1.value,a2.value,a3.value],correct:+correct.value});
 q.value=a0.value=a1.value=a2.value=a3.value='';save();
}

function renderKid(){
 const l=db.lessons[current];if(!l)return;
 title.textContent=l.title;text.textContent=l.text;
 const qd=document.getElementById('questions');qd.innerHTML='';
 l.questions.forEach((q,i)=>{
  const d=document.createElement('div');d.className='q';
  d.innerHTML='<b>Vraag '+(i+1)+':</b> '+q.text;
  q.options.forEach((o,oi)=>{
   const lab=document.createElement('label');lab.className='opt';
   const r=document.createElement('input');r.type='radio';r.name='q'+i;
   r.onchange=()=>{fb.className=(oi==q.correct?'good':'bad');fb.textContent=(oi==q.correct?'Goed!':'Niet goed')};
   lab.appendChild(r);lab.append(o);d.appendChild(lab);
  });
  const fb=document.createElement('div');d.appendChild(fb);
  qd.appendChild(d);
 });
}

if(db.lessons.length==0)db.lessons.push({title:'Voorbeeld',text:'Plak hier tekst',questions:[]});
save();
</script>
</body>
</html>

